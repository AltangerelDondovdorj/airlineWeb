<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Insert title here</title>
</h:head>
<h:body>
	<h2>
		Flights information
	</h2>
	
	<h:form id="contact">
	<h:outputLabel value="Search:" />
		<h:inputText id="search" value="#{airlineData.searchAirline}">
			<f:ajax event="keyup" listener="#{airlineData.findAirlines}"
				execute="@this" render="list" />
				<h:messages/>
		</h:inputText>&nbsp;
		<f:ajax render="list">
			<h:outputLabel value="Search Date from:" /><h:inputText value="#{airlineData.fromDate}"></h:inputText>
			<h:commandButton value="Search" action="#{airlineData.findFlightbyDate()}"></h:commandButton>&nbsp;
		</f:ajax>
		<h:commandButton value="New Flight" action="faces/NewFlight.xhtml"></h:commandButton>&nbsp;
		<h:commandButton value="Airlines" action="faces/Airlines.xhtml"></h:commandButton>
		<br/>
		<br/>
	<h:dataTable id="list" var="dt" value="#{airlineData.flights}" border="1">  
		<h:column headerText="Airline"> 
			  <f:facet name="header">
			  	<h:outputText value="Airline"/>
			  </f:facet> 
			  <h:outputText value="#{dt.airline.name}" />
		  </h:column>  
		  <h:column headerText="Account Number"> 
			  <f:facet name="header">
			  	<h:outputText value="Flight Number"/>
			  </f:facet> 
			  <h:outputText value="#{dt.flightnr}" />
		  </h:column>
		  <h:column>  
			  <f:facet name="header">
			  	<h:outputText value="Origin"/>
			  </f:facet>
			  <h:outputText value="#{dt.origin.name}" />  
		  </h:column>
		  <h:column>  
			  <f:facet name="header">
			  	<h:outputText value="Destination"/>
			  </f:facet>
			  <h:outputText value="#{dt.destination.name}" />  
		  </h:column>
		  <h:column> 
			  <f:facet name="header">
			  	<h:outputText value="Departure Date"/>
			  </f:facet> 
			  <h:outputText value="#{dt.departureDate} #{dt.departureTime}" />  
		  </h:column>
		  <h:column> 
			  <f:facet name="header">
			  	<h:outputText value="Arrival Date"/>
			  </f:facet> 
			  <h:outputText value="#{dt.arrivalDate} #{dt.arrivalTime}" />  
		  </h:column>
		  <h:column> 
			  <f:facet name="header">
			  	<h:outputText value="Arrival Date"/>
			  </f:facet> 
			  <h:outputText value="#{dt.arrivalDate} #{dt.arrivalTime}" />  
		  </h:column>
		  <h:column> 
			  <f:facet name="header">
			  	<h:outputText value="Model"/>
			  </f:facet> 
			  <h:outputText value="#{dt.airplane.model}" />  
		  </h:column>
		  <h:column> 
			  <f:facet name="header">
			  	<h:outputText value="Capacity"/>
			  </f:facet> 
			  <h:outputText value="#{dt.airplane.capacity}" />  
		  </h:column>
		</h:dataTable>
		</h:form>
</h:body>
</html>